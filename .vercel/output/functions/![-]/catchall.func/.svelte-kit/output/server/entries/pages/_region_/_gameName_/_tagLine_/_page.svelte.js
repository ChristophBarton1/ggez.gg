import{g as e,u as t,p as s,h as l,c as a,a as d,s as r,i as o,e as i,b as n}from"../../../../../chunks/vendor-svelte.js";import{g as x,a as m}from"../../../../../chunks/api.js";import"@sveltejs/kit/internal";import"@sveltejs/kit/internal/server";import{g as c,a as v,b as h,c as p,d as g}from"../../../../../chunks/components.js";function u(u,b){u.component(u=>{var b;let w,f,$,y=null,k=[],I=!0,z=!1,_=null,R="",A=7,L=20;const D=new Map,N="ggez_profile_",F=6e5;function S(e){return{RANKED_SOLO_5x5:"Ranked Solo/Duo",RANKED_FLEX_SR:"Ranked Flex",RANKED_FLEX_TT:"Ranked Flex 3v3"}[e]||e}function j(e){return v(e,256)}function M(e,t,s){return(0===t?e+s:(e+s)/t).toFixed(1)}function E(e){return{420:"Ranked Solo",440:"Ranked Flex",400:"Normal Draft",430:"Normal Blind",450:"ARAM",700:"Clash",900:"URF",1020:"One For All",1300:"Nexus Blitz",1700:"Arena"}[e]||"Custom Game"}w=e(b??={},"$page",s).params.region,f=decodeURIComponent(e(b??={},"$page",s).params.gameName),$=decodeURIComponent(e(b??={},"$page",s).params.tagLine),f&&$&&w&&async function(e,t,s){const l=`${s}_${e}_${t}`;let a=!1;if(D.has(l)){const e=D.get(l),t=Date.now()-e.timestamp;if(t<12e4&&(e.summoner?.id||e.summoner?.summonerId))return y=e.summoner,k=e.matches,L=e.matches.length,e.bgImage&&(R=e.bgImage),void(I=!1);t<F&&(e.summoner?.id||e.summoner?.summonerId)&&(y=e.summoner,k=e.matches,L=e.matches.length,e.bgImage&&(R=e.bgImage),I=!1,z=!0,a=!0)}if(!a&&!y){const e=function(e){try{const t=localStorage.getItem(N+e);if(t)return JSON.parse(t)}catch(t){}return null}(l);e&&Date.now()-e.timestamp<F&&(e.summoner?.id||e.summoner?.summonerId)&&(y=e.summoner,k=e.matches,L=e.matches.length,e.bgImage&&(R=e.bgImage),I=!1,z=!0,a=!0)}a||(I=!0),_=null,A=7;try{const d=await x(e,t,s);if(d.error)return void(a||(_=d.error,I=!1));const r=await m(d.puuid,s,5);let o="";if(r.length>0){const e=r[0].info.participants.find(e=>e.puuid===d.puuid);e&&(o=c(e.championName,"large"))}const i={summoner:d,matches:r,bgImage:o,timestamp:Date.now()};D.set(l,i),function(e,t){try{localStorage.setItem(N+e,JSON.stringify(t))}catch(s){}}(l,i),y=d,k=r,L=r.length,o&&(R=o),a&&(z=!1)}catch(d){a||(_=d.message)}I=!1}(f,$,w);let C,O=!0;function T(e){if(l("xwvdlm",e,e=>{e.title(e=>{e.push(`<title>${a(f)} #${a($)} - ggez.gg</title>`)}),e.push(`<meta name="description"${d("content",`View detailed League of Legends stats, match history, and performance analytics for ${r(f)} #${r($)}. Track KDA, win rate, champion mastery and more.`)} class="svelte-xwvdlm"/> <link rel="preconnect" href="https://ddragon.leagueoflegends.com" crossorigin="" class="svelte-xwvdlm"/> <link rel="preconnect" href="https://raw.communitydragon.org" crossorigin="" class="svelte-xwvdlm"/> <link rel="dns-prefetch" href="https://ddragon.leagueoflegends.com" class="svelte-xwvdlm"/> <link rel="dns-prefetch" href="https://raw.communitydragon.org" class="svelte-xwvdlm"/> <link rel="preload" as="image"${d("href",v("diamond",256))} fetchpriority="high" type="image/webp" class="svelte-xwvdlm"/> <link rel="preload" as="image"${d("href",v("emerald",256))} fetchpriority="high" type="image/webp" class="svelte-xwvdlm"/> <link rel="preload" as="image"${d("href",v("platinum",256))} type="image/webp" class="svelte-xwvdlm"/>`)}),e.push(`<div class="hero-bg svelte-xwvdlm"${o(`background-image: url('${r(R)}');`)}></div> <div class="overlay svelte-xwvdlm"></div> `),I)e.push("\x3c!--[--\x3e"),e.push(`<div class="dashboard-grid max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-[360px_1fr] gap-6 sm:gap-8 lg:gap-10 my-6 sm:my-8 lg:my-12 px-4 sm:px-6 lg:px-10 pb-12 sm:pb-24 animate-fade-in svelte-xwvdlm"><div class="shard-card glass-card border border-hex-gold/30 p-8 rounded-xl svelte-xwvdlm"><div class="w-28 h-28 rounded-full bg-hex-gold/20 animate-pulse mb-5 svelte-xwvdlm"></div> <div class="h-10 w-48 bg-hex-gold/20 animate-pulse mb-2 rounded svelte-xwvdlm"></div> <div class="h-5 w-24 bg-hex-gold/10 animate-pulse mb-6 rounded svelte-xwvdlm"></div> <div class="h-4 w-32 bg-hex-gold/10 animate-pulse mb-4 rounded svelte-xwvdlm"></div> <div class="space-y-3 mt-6 pt-6 border-t border-hex-gold/20 svelte-xwvdlm"><div class="h-20 bg-hex-gold/10 animate-pulse rounded svelte-xwvdlm"></div> <div class="h-20 bg-hex-gold/10 animate-pulse rounded svelte-xwvdlm"></div></div></div> <div class="space-y-6 svelte-xwvdlm"><div class="shard-card glass-card border border-hex-gold/30 p-6 rounded-xl svelte-xwvdlm"><div class="h-8 w-40 bg-hex-gold/20 animate-pulse mb-6 rounded svelte-xwvdlm"></div> <div class="space-y-4 svelte-xwvdlm"><div class="h-24 bg-hex-gold/10 animate-pulse rounded svelte-xwvdlm"></div> <div class="h-24 bg-hex-gold/10 animate-pulse rounded svelte-xwvdlm"></div> <div class="h-24 bg-hex-gold/10 animate-pulse rounded svelte-xwvdlm"></div></div></div></div> <div class="lg:col-span-2 text-center svelte-xwvdlm"><div class="text-hex-blue text-xl font-cinzel animate-pulse svelte-xwvdlm">âš¡ Loading ${a(f)}#${a($)}...</div></div></div>`);else{if(e.push("\x3c!--[!--\x3e"),_)e.push("\x3c!--[--\x3e"),e.push(`<div class="min-h-screen flex items-center justify-center svelte-xwvdlm"><div class="text-hex-red text-2xl font-cinzel svelte-xwvdlm">${a(_)}</div></div>`);else{if(e.push("\x3c!--[!--\x3e"),y){if(e.push("\x3c!--[--\x3e"),e.push(`<div class="dashboard-grid max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-[360px_1fr] gap-6 sm:gap-8 lg:gap-10 my-6 sm:my-8 lg:my-12 px-4 sm:px-6 lg:px-10 pb-12 sm:pb-24 animate-fade-in-up svelte-xwvdlm"><div class="shard-card glass-card border border-hex-gold/30 p-8 rounded-xl svelte-xwvdlm"><div class="summoner-icon w-28 h-28 rounded-full border-3 border-hex-gold shadow-[0_0_25px_rgba(200,170,110,0.4)] mb-5 bg-cover svelte-xwvdlm"${o(`background-image: url('${r(h(y.profileIconId))}');`)}></div> <h1 class="font-cinzel text-4xl mb-0 text-white leading-none svelte-xwvdlm">${a(y.name)}</h1> <span class="text-gray-500 text-base mb-6 block tracking-[2px] svelte-xwvdlm">#${a(y.tag)}</span> <div class="text-sm text-gray-400 mt-4 mb-6 svelte-xwvdlm">Level: <span class="text-white font-bold svelte-xwvdlm">${a(y.summonerLevel)}</span></div> `),y.ranked&&y.ranked.length>0){e.push("\x3c!--[--\x3e"),e.push('<div class="mt-6 pt-6 border-t border-hex-gold/20 svelte-xwvdlm"><h3 class="font-cinzel text-hex-gold text-xs uppercase tracking-wider mb-3 svelte-xwvdlm">Ranked</h3> <div class="space-y-2 svelte-xwvdlm">\x3c!--[--\x3e');const t=i(y.ranked);for(let s=0,l=t.length;s<l;s++){let l=t[s];const r=(l.wins/(l.wins+l.losses)*100).toFixed(0);e.push(`<div class="ranked-mini-card svelte-xwvdlm"><img${d("src",j(l.tier))}${d("alt",l.tier)} class="rank-icon svelte-xwvdlm"/> <div class="rank-content svelte-xwvdlm"><div class="rank-queue svelte-xwvdlm">${a(S(l.queueType))}</div> <div class="rank-tier svelte-xwvdlm">${a(l.tier)} ${a(l.rank)}</div> <div class="rank-stats svelte-xwvdlm">${a(l.leaguePoints)} LP â€¢ ${a(l.wins)}W ${a(l.losses)}L â€¢ ${a(r)}%</div></div></div>`)}e.push("\x3c!--]--\x3e</div></div>")}else e.push("\x3c!--[!--\x3e");e.push(`\x3c!--]--\x3e</div> <div class="content-col svelte-xwvdlm"><div class="tabs-nav flex gap-4 mb-8 border-b border-hex-gold/20 pb-0 svelte-xwvdlm"><button${n(`tab-btn font-cinzel text-lg px-6 py-3 transition-all duration-300 border-b-2 ${r("border-transparent text-gray-400 hover:text-white")} flex items-center gap-2`,"svelte-xwvdlm")}>`),e.push("\x3c!--[!--\x3e"),e.push(`\x3c!--]--\x3e Live Game</button> <button${n(`tab-btn font-cinzel text-lg px-6 py-3 transition-all duration-300 border-b-2 ${r("border-hex-gold text-hex-gold")}`,"svelte-xwvdlm")}>Match History</button> <button${n(`tab-btn font-cinzel text-lg px-6 py-3 transition-all duration-300 border-b-2 ${r("border-transparent text-gray-400 hover:text-white")}`,"svelte-xwvdlm")}>Champion Stats</button> <button${n(`tab-btn font-cinzel text-lg px-6 py-3 transition-all duration-300 border-b-2 ${r("border-transparent text-gray-400 hover:text-white")}`,"svelte-xwvdlm")}>LP Gains</button></div> `),e.push("\x3c!--[!--\x3e");{e.push("\x3c!--[--\x3e"),e.push('<h2 class="history-title font-cinzel text-3xl mb-5 text-white border-b border-hex-gold/30 pb-2 inline-block svelte-xwvdlm">Recent Matches</h2> <div class="match-list flex flex-col gap-4 svelte-xwvdlm">\x3c!--[--\x3e');const t=i(k.slice(0,A));for(let s=0,l=t.length;s<l;s++){let l=t[s];const o=l.info.participants.find(e=>e.puuid===y.puuid),x=o?.win,m=Math.floor(l.info.gameDuration/60),c=M(o.kills,o.deaths,o.assists),v=p(o.championName);e.push(`<div${n(`match-row ${r(x?"win":"loss")} flex flex-col sm:flex-row h-auto sm:h-32 glass-card border border-white/5 backdrop-blur-sm transition-all duration-300 relative overflow-hidden cursor-pointer rounded-lg hover:scale-[1.02] hover:border-hex-gold hover:bg-opacity-85 hover:z-10`,"svelte-xwvdlm")} role="button" tabindex="0"><div${n(`match-indicator w-2 h-full ${r(x?"bg-hex-blue shadow-neon":"bg-hex-red shadow-[0_0_20px_rgba(255,78,80,0.5)]")}`,"svelte-xwvdlm")}></div> <img${d("src",v.src)}${d("srcset",v.srcset)}${d("sizes",v.sizes)}${d("alt",o.championName)} width="214" height="126"${d("fetchpriority",0===s?"high":"auto")}${d("loading",s<2?"eager":"lazy")} decoding="async" class="match-champ-img w-full sm:w-44 h-32 sm:h-full object-cover svelte-xwvdlm" style="mask-image: linear-gradient(to right, black 40%, transparent 100%); -webkit-mask-image: linear-gradient(to right, black 50%, transparent 100%);"/> <div class="match-details flex-1 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 px-4 sm:px-10 py-4 sm:py-0 sm:pl-3 svelte-xwvdlm"><div class="svelte-xwvdlm"><div${n(`result-text font-cinzel text-xl font-bold mb-1 ${r(x?"text-hex-blue":"text-hex-red")}`,"svelte-xwvdlm")}>${a(x?"VICTORY":"DEFEAT")}</div> <div class="text-sm text-gray-400 svelte-xwvdlm">${a(E(l.info.queueId))} â€¢ ${a(m)}m</div></div> <div class="kda-box svelte-xwvdlm"><div class="kda-main text-3xl font-bold text-white tracking-wider svelte-xwvdlm">${a(o.kills)} / ${a(o.deaths)} / ${a(o.assists)}</div> <div class="kda-sub text-sm text-gray-500 mt-1 svelte-xwvdlm">${a(c)} KDA `),o.challenges?.kda>5?(e.push("\x3c!--[--\x3e"),e.push('<span class="text-hex-gold svelte-xwvdlm">â€¢ MVP</span>')):e.push("\x3c!--[!--\x3e"),e.push('\x3c!--]--\x3e</div></div> <div class="items-box flex gap-1 flex-wrap sm:flex-nowrap svelte-xwvdlm">\x3c!--[--\x3e');const h=i([o.item0,o.item1,o.item2,o.item3,o.item4,o.item5,o.item6]);for(let t=0,s=h.length;t<s;t++){let s=h[t];s&&s>0?(e.push("\x3c!--[--\x3e"),e.push(`<img${d("src",g(s))}${d("alt",`Item ${r(s)}`)} class="item-icon w-8 h-8 sm:w-10 sm:h-10 bg-[#111] border border-gray-700 rounded object-cover svelte-xwvdlm" loading="lazy" width="40" height="40"/>`)):(e.push("\x3c!--[!--\x3e"),e.push('<div class="item-icon w-8 h-8 sm:w-10 sm:h-10 bg-[#0a0a0a] border border-gray-800 rounded opacity-30 svelte-xwvdlm"></div>')),e.push("\x3c!--]--\x3e")}e.push('\x3c!--]--\x3e</div> <button class="ai-coach-btn flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-hex-blue/20 to-hex-gold/20 hover:from-hex-blue/30 hover:to-hex-gold/30 border border-hex-blue/30 hover:border-hex-gold/50 rounded-lg transition-all duration-300 group svelte-xwvdlm" title="Ask AI about this match"><span class="text-2xl group-hover:scale-110 transition-transform svelte-xwvdlm">ðŸ¤–</span> <span class="text-xs sm:text-sm font-semibold text-hex-blue group-hover:text-hex-gold transition-colors svelte-xwvdlm">Ask AI</span></button></div></div>')}e.push('\x3c!--]--\x3e</div> <div class="flex flex-col gap-3 mt-6 items-center svelte-xwvdlm">'),A<k.length?(e.push("\x3c!--[--\x3e"),e.push(`<button class="show-more-btn bg-hex-darker border border-hex-gold/30 text-hex-gold px-8 py-3 font-cinzel text-sm uppercase tracking-wider hover:bg-hex-gold/10 hover:border-hex-gold transition-all duration-300 rounded-lg svelte-xwvdlm">Show More Matches (${a(k.length-A)} remaining)</button>`)):e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e "),k.length>=L?(e.push("\x3c!--[--\x3e"),e.push(`<button${d("disabled",!1,!0)} class="load-more-btn bg-gradient-to-r from-hex-blue/20 to-hex-gold/20 border border-hex-blue/30 text-white px-8 py-3 font-cinzel text-sm uppercase tracking-wider hover:from-hex-blue/30 hover:to-hex-gold/30 hover:border-hex-gold transition-all duration-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed svelte-xwvdlm">`),e.push("\x3c!--[!--\x3e"),e.push("Load More from API (50+ matches)"),e.push("\x3c!--]--\x3e</button>")):e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e</div>")}e.push("\x3c!--]--\x3e"),e.push("\x3c!--]--\x3e</div></div>")}else e.push("\x3c!--[!--\x3e");e.push("\x3c!--]--\x3e")}e.push("\x3c!--]--\x3e")}e.push("\x3c!--]--\x3e "),e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e")}do{O=!0,C=u.copy(),T(C)}while(!O);u.subsume(C),b&&t(b)})}export{u as default};
